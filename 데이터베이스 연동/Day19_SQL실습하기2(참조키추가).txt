참조키 활성화
PRAGMA FOREIGN_KEYS=1;

DROP TABLE IF EXISTS CAR;

CREATE TABLE CAR (
    NO INTEGER PRIMARY KEY AUTOINCREMENT,
    NAME TEXT(20) NOT NULL,
    NUMBER TEXT(20) NOT NULL,
    TYPE TEXT(10),
    INFO_NO INTEGER NOT NULL,
    CONSTRAINT FK_INFO_CAR FOREIGN KEY(INFO_NO) REFERENCES INFO(NO)
);

INSERT INTO CAR (NAME, NUMBER, TYPE, INFO_NO) VALUES ('스파크', '11가1111', '경차', 1);
INSERT INTO CAR (NAME, NUMBER, TYPE, INFO_NO) VALUES ('카니발', '22나2222', 'SUV', 1);
INSERT INTO CAR (NAME, NUMBER, TYPE, INFO_NO) VALUES ('모닝', '33가3333', '경차', 2);
INSERT INTO CAR (NAME, NUMBER, TYPE, INFO_NO) VALUES ('그랜저', '44나1111', '세단', 3);

SELECT * FROM CAR;


-- 서브쿼리 예제 - 홍길동의 차 목록 가져오기
SELECT * FROM CAR WHERE INFO_NO=(SELECT NO FROM INFO WHERE NAME='홍길동');

-- 조인 예제 - INFO테이블에서 번호, 이름과 CAR테이블에서 자동차 이름만 가져오기
SELECT INFO.NO, INFO.NAME, CAR.NAME FROM INFO JOIN CAR ON INFO.NO = CAR.INFO_NO;
SELECT INFO.NO, INFO.NAME, CAR.NAME FROM INFO INNER JOIN CAR ON INFO.NO = CAR.INFO_NO;
SELECT INFO.NO, INFO.NAME, CAR.NAME FROM INFO LEFT OUTER JOIN CAR ON INFO.NO = CAR.INFO_NO;
SELECT INFO.NO, INFO.NAME, CAR.NAME FROM INFO RIGHT OUTER JOIN CAR ON INFO.NO = CAR.INFO_NO;
SELECT INFO.NO, INFO.NAME, CAR.NAME FROM INFO FULL OUTER JOIN CAR ON INFO.NO = CAR.INFO_NO;

